---
description: Configuracion y practicas para React 19 con el compilador
globs: 
alwaysApply: true
---

# React 19 y el Compilador

Este proyecto usa React 19 con el React Compiler activado.

## Como esta configurado

El compilador solo procesa archivos `.tsx` dentro de `apps/zukus/`. Esto significa:

- Componentes React (`.tsx`) → se compilan y optimizan
- Hooks y utilidades (`.ts`) → no se tocan

## Convencion de extensiones

| Contenido del archivo | Extension |
|---|-----|
| Tiene JSX | `.tsx` |
| No tiene JSX (hooks, utils, tipos, config) | `.ts` |

Esta convencion es importante porque determina que archivos procesa el compilador.

## No es necesario

- `useMemo` - El compilador optimiza automaticamente
- `useCallback` - El compilador optimiza automaticamente
- `React.memo` - El compilador decide cuando memorizar

Escribe codigo directo, el compilador hace el trabajo:

```typescript
// BIEN - Codigo directo
function MyComponent({ items }) {
  const filtered = items.filter(x => x.active)
  return <List items={filtered} />
}
```

## Casos que requieren "use no memo"

Algunos patrones no son compatibles con el compilador. Usar `"use no memo"` al inicio del cuerpo de la funcion:

```typescript
function MyAnimatedComponent() {
  "use no memo"
  
  // Codigo con Reanimated shared values, try/finally, etc.
}
```

**Cuando usarlo:**

- Componentes que mutan `sharedValue.value` de Reanimated
- Funciones con bloques `try/finally` (no soportado aun)
- Cualquier patron que cause "Invalid hook call" en runtime

## Hooks y efectos

`useRef`, `useState`, `useEffect` se usan normalmente.
